---
title: Exchange 中的 EWS 架构版本
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: d1ab6f9c-ea91-4022-830d-7f7b759e3935
description: 了解 EWS 架构和如何设计您的应用程序以使用它，以及与每个架构版本，可用的功能和架构与 Exchange 服务版本的方式。
ms.openlocfilehash: dd8e85547666ba0bf3a1a38775260268594f2a8b
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/25/2018
ms.locfileid: "19752728"
---
# <a name="ews-schema-versions-in-exchange"></a><span data-ttu-id="c8042-103">Exchange 中的 EWS 架构版本</span><span class="sxs-lookup"><span data-stu-id="c8042-103">EWS schema versions in Exchange</span></span>

<span data-ttu-id="c8042-104">了解 EWS 架构和如何设计您的应用程序以使用它，以及与每个架构版本，可用的功能和架构与 Exchange 服务版本的方式。</span><span class="sxs-lookup"><span data-stu-id="c8042-104">Learn about the EWS schema and how to design your application to work with it, as well as the features that are available with each schema version, and how the schema relates to the Exchange service version.</span></span>
  
<span data-ttu-id="c8042-105">EWS 架构定义了可以发送到并由 Exchange 返回的数据结构。</span><span class="sxs-lookup"><span data-stu-id="c8042-105">The EWS schema defines the data structures that can be sent to and returned by Exchange.</span></span> <span data-ttu-id="c8042-106">每个新的 Exchange 版本的包含对 EWS 功能的重大更改将包含新的架构。</span><span class="sxs-lookup"><span data-stu-id="c8042-106">Each new version of Exchange that contains a significant change to EWS functionality will contain a new schema.</span></span> <span data-ttu-id="c8042-107">EWS 和 EWS 架构都是向后，并在某些情况下，向前兼容-设计针对早期版本的 EWS 的应用程序将工作，在大多数情况下，使用更高版本的 EWS，和针对更高版本的 EWS 应用程序将工作如果相同早期版本中包含的功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-107">EWS and the EWS schema are both backward, and in some cases, forward compatible - applications designed against earlier versions of EWS will work, in most cases, with later versions of EWS, and applications that target later versions of EWS will work if the same functionality was included in an earlier version.</span></span> <span data-ttu-id="c8042-108">本文将帮助您了解 EWS 架构的角色，架构版本控制的工作原理，架构版本和服务版本之间的关系以及如何设计您的应用程序以使用 EWS 架构。</span><span class="sxs-lookup"><span data-stu-id="c8042-108">This article will help you understand the role of the EWS schema, how schema versioning works, the relationship between the schema version and the service version, and how to design your application to work with the EWS schema.</span></span> 
  
## <a name="role-of-the-ews-schema"></a><span data-ttu-id="c8042-109">EWS 架构的角色</span><span class="sxs-lookup"><span data-stu-id="c8042-109">Role of the EWS schema</span></span>

<span data-ttu-id="c8042-110">EWS 架构将执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="c8042-110">The EWS schema does the following:</span></span>
  
- <span data-ttu-id="c8042-111">定义可供客户端的功能集。</span><span class="sxs-lookup"><span data-stu-id="c8042-111">Defines the feature set that is available to a client.</span></span> <span data-ttu-id="c8042-112">客户端可以通过使用 SOAP[自动发现服务](autodiscover-for-exchange.md)获取的受支持的架构版本的列表。</span><span class="sxs-lookup"><span data-stu-id="c8042-112">A client can get the list of the supported schema versions by using the SOAP [Autodiscover service](autodiscover-for-exchange.md).</span></span> <span data-ttu-id="c8042-113">客户端然后可以确定哪些功能，它可以访问的因为每个架构版本代表[EWS 功能集](ews-schema-versions-in-exchange.md#bk_features)。</span><span class="sxs-lookup"><span data-stu-id="c8042-113">The client can then determine which features it can access, because each schema version represents an [EWS feature set](ews-schema-versions-in-exchange.md#bk_features).</span></span> <span data-ttu-id="c8042-114">发布 EWS 的每个新架构包含从以前版本以及任何新功能的架构定义的架构实体。</span><span class="sxs-lookup"><span data-stu-id="c8042-114">Each new schema released for EWS contains of the schema entities from the previous version plus the schema definitions for any new functionality.</span></span> <span data-ttu-id="c8042-115">这种方式，EWS 支持针对早期版本的 EWS 应用程序。</span><span class="sxs-lookup"><span data-stu-id="c8042-115">This way, EWS supports applications that target an earlier version of EWS.</span></span>
    
- <span data-ttu-id="c8042-116">提供 API 合同的一般说明。</span><span class="sxs-lookup"><span data-stu-id="c8042-116">Provides a general description of the API contract.</span></span> <span data-ttu-id="c8042-117">您可以使用本合同确定可以为发送和接收从交换的数据结构。</span><span class="sxs-lookup"><span data-stu-id="c8042-117">You can use this contract to determine the data structures that can be sent to and received from Exchange.</span></span>
    
- <span data-ttu-id="c8042-118">提供用于发送请求的版本控制机制。</span><span class="sxs-lookup"><span data-stu-id="c8042-118">Provides a versioning mechanism for sending requests.</span></span> <span data-ttu-id="c8042-119">Exchange server 包含所有的支持的 EWS 架构版本在其虚拟目录中。</span><span class="sxs-lookup"><span data-stu-id="c8042-119">The Exchange server contains all the supported EWS schema versions in its virtual directory.</span></span> 
    
## <a name="designing-your-application-with-schema-version-in-mind"></a><span data-ttu-id="c8042-120">设计应用程序与记住的架构版本</span><span class="sxs-lookup"><span data-stu-id="c8042-120">Designing your application with schema version in mind</span></span>

<span data-ttu-id="c8042-121">设计您的应用程序以使用不同版本的 EWS 架构时，请牢记以下几点：</span><span class="sxs-lookup"><span data-stu-id="c8042-121">Keep the following points in mind as you design your application to work with different versions of the EWS schema:</span></span>
  
- <span data-ttu-id="c8042-122">打开/关闭基于架构版本的功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-122">Turn on/off functionality based on the schema version.</span></span> <span data-ttu-id="c8042-123">您需要将客户端的功能映射到的架构版本，然后在某些情况下，为服务的版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-123">You'll want to map client functionality to the schema version and, in some cases, to the version of the service.</span></span> <span data-ttu-id="c8042-124">下面的示例将返回的[属性集](http://msdn.microsoft.com/zh-cn/library/office/microsoft.exchange.webservices.data.propertyset%28v=exchg.80%29.aspx)根据架构和服务的版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-124">The following example will return a [PropertySet](http://msdn.microsoft.com/zh-cn/library/office/microsoft.exchange.webservices.data.propertyset%28v=exchg.80%29.aspx) based on the version of the schema and service.</span></span> 
    
  ```cs
  private static PropertySet InitPropertySetByVersion(ExchangeService service)
  {
      PropertySet props;
      // The schema version to target to access the NormalizedBody property 
      // is Exchange2013 or later. The server version to target to access the 
      // NormalizedBody property on an email is 15 or later, which 
      // equates to Exchange 2013.
      if (service.RequestedServerVersion >= ExchangeVersion.Exchange2013 &amp;&amp;
          service.ServerInfo.MajorVersion >= 15)
      {
          props = new PropertySet(EmailMessageSchema.NormalizedBody);
      }
      else
      {
          props = new PropertySet(EmailMessageSchema.Body);
      }
      return props;
  }
  ```

- <span data-ttu-id="c8042-125">版本想要使用您的请求的 EWS 架构的支持功能的最低版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-125">Version your requests with the earliest version of the EWS schema that supports the functionality you want to use.</span></span> <span data-ttu-id="c8042-126">这将使您的客户端适用于更多的潜在的 Exchange 服务器。</span><span class="sxs-lookup"><span data-stu-id="c8042-126">This will make your client applicable to a larger number of potential Exchange servers.</span></span> <span data-ttu-id="c8042-127">这不是很重要如果正在开发的业务线应用程序来设定仅，贵组织的服务器，但如果您正在构建应用程序的更多 Exchange 访问群体非常重要。</span><span class="sxs-lookup"><span data-stu-id="c8042-127">This is less important if you're developing a line-of-business application to target your organization's servers only, but is very important if you're building an application for a wider Exchange audience.</span></span>
    
## <a name="features-by-schema-version"></a><span data-ttu-id="c8042-128">架构版本的功能</span><span class="sxs-lookup"><span data-stu-id="c8042-128">Features by schema version</span></span>
<span data-ttu-id="c8042-129"><a name="bk_features"> </a></span><span class="sxs-lookup"><span data-stu-id="c8042-129"></span></span>

<span data-ttu-id="c8042-130">标识位于 types.xsd 架构**ExchangeVersionType**简单类型中可供客户端的架构版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-130">The schema versions that are available to a client are identified in the **ExchangeVersionType** simple type located in the types.xsd schema.</span></span> <span data-ttu-id="c8042-131">**ExchangeVersionType**由[RequestServerVersion](http://msdn.microsoft.com/library/af4032d5-42b3-463e-9d0a-8236d78e5b75%28Office.15%29.aspx)元素实现。</span><span class="sxs-lookup"><span data-stu-id="c8042-131">The **ExchangeVersionType** is implemented by the [RequestServerVersion](http://msdn.microsoft.com/library/af4032d5-42b3-463e-9d0a-8236d78e5b75%28Office.15%29.aspx) element.</span></span> <span data-ttu-id="c8042-132">客户端针对**RequestServerVersion**元素将发送所有 EWS 请求以指示到服务器的架构的版本中。</span><span class="sxs-lookup"><span data-stu-id="c8042-132">The **RequestServerVersion** element is sent in all EWS requests to indicate to the server which version of the schema the client targets.</span></span> <span data-ttu-id="c8042-133">反过来，这标识可供客户端的功能集。</span><span class="sxs-lookup"><span data-stu-id="c8042-133">This in turn identifies the feature set that is available to the client.</span></span> 
  
<span data-ttu-id="c8042-134">**按产品和架构版本的表 1: EWS 功能**</span><span class="sxs-lookup"><span data-stu-id="c8042-134">**Table 1: EWS features by product and schema version**</span></span>

|<span data-ttu-id="c8042-135">**产品版本**</span><span class="sxs-lookup"><span data-stu-id="c8042-135">**Product version**</span></span>|<span data-ttu-id="c8042-136">**关联的架构版本**</span><span class="sxs-lookup"><span data-stu-id="c8042-136">**Associated schema version**</span></span>|<span data-ttu-id="c8042-137">**功能**</span><span class="sxs-lookup"><span data-stu-id="c8042-137">**Features**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="c8042-138">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c8042-138">Exchange Online</span></span>  |<span data-ttu-id="c8042-139">最新的架构版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-139">The latest schema version.</span></span>  |<span data-ttu-id="c8042-140">除了新功能才会为联机客户端添加当前版本的 Exchange 中包括所有功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-140">Includes all the features in the current version of Exchange in addition to any new features that are added for online clients.</span></span> |
|<span data-ttu-id="c8042-141">Exchange 2013 SP1</span><span class="sxs-lookup"><span data-stu-id="c8042-141">Exchange 2013 SP1</span></span> |<span data-ttu-id="c8042-142">Exchange2013_SP1</span><span class="sxs-lookup"><span data-stu-id="c8042-142">Exchange2013_SP1</span></span> | <span data-ttu-id="c8042-143">Exchange 2013 中包括所有功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-143">Includes all the features in Exchange 2013.</span></span><br/><br/><span data-ttu-id="c8042-144">Exchange 2013 SP1 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-144">The following features were introduced in Exchange 2013 SP1:</span></span> <ul><li>[<span data-ttu-id="c8042-145">邮箱保留策略</span><span class="sxs-lookup"><span data-stu-id="c8042-145">Mailbox hold policy</span></span>](http://msdn.microsoft.com/zh-cn/library/office/microsoft.exchange.webservices.data.exchangeservice.setholdonmailboxes%28v=exchg.80%29.aspx) </li><li> [<span data-ttu-id="c8042-146">建议新时间</span><span class="sxs-lookup"><span data-stu-id="c8042-146">Propose new time</span></span>](how-to-propose-a-new-meeting-time-by-using-ews-in-exchange.md) </li><li>  <span data-ttu-id="c8042-147">阅读回执更新的[更新](http://msdn.microsoft.com/zh-cn/library/office/dn600559%28v=exchg.80%29.aspx)和[删除](http://msdn.microsoft.com/zh-cn/library/office/dn600557%28v=exchg.80%29.aspx)项目</span><span class="sxs-lookup"><span data-stu-id="c8042-147">Read receipt updates for [updating](http://msdn.microsoft.com/zh-cn/library/office/dn600559%28v=exchg.80%29.aspx) and [deleting](http://msdn.microsoft.com/zh-cn/library/office/dn600557%28v=exchg.80%29.aspx) items</span></span>  </li><li> <span data-ttu-id="c8042-148">对话的[IRM 的信息](http://msdn.microsoft.com/zh-cn/library/office/microsoft.exchange.webservices.data.conversation.hasirm%28v=exchg.80%29.aspx)更新</span><span class="sxs-lookup"><span data-stu-id="c8042-148">[IRM information](http://msdn.microsoft.com/zh-cn/library/office/microsoft.exchange.webservices.data.conversation.hasirm%28v=exchg.80%29.aspx) update for conversations</span></span>  </li></ul> |
|<span data-ttu-id="c8042-149">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c8042-149">Exchange 2013</span></span>   |<span data-ttu-id="c8042-150">Exchange2013</span><span class="sxs-lookup"><span data-stu-id="c8042-150">Exchange2013</span></span>   | <span data-ttu-id="c8042-151">包含在 Exchange 2007 和 Exchange 2010 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-151">Includes all features introduced in Exchange 2007 and Exchange 2010.</span></span> <br/><br/><span data-ttu-id="c8042-152">Exchange 2013 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-152">The following features were introduced in Exchange 2013:</span></span><ul><li><span data-ttu-id="c8042-153">存档</span><span class="sxs-lookup"><span data-stu-id="c8042-153">Archiving</span></span>  </li><li>  <span data-ttu-id="c8042-154">电子数据展示</span><span class="sxs-lookup"><span data-stu-id="c8042-154">eDiscovery</span></span>  </li><li>  <span data-ttu-id="c8042-155">角色</span><span class="sxs-lookup"><span data-stu-id="c8042-155">Personas</span></span>  </li><li>  <span data-ttu-id="c8042-156">保留策略</span><span class="sxs-lookup"><span data-stu-id="c8042-156">Retention policies</span></span>  </li><li>  <span data-ttu-id="c8042-157">统一的联系人存储库</span><span class="sxs-lookup"><span data-stu-id="c8042-157">Unified Contact Store</span></span>  </li><li>  <span data-ttu-id="c8042-158">用户照片</span><span class="sxs-lookup"><span data-stu-id="c8042-158">User photos</span></span>  </li></ul> |
|<span data-ttu-id="c8042-159">Exchange 2010 SP2</span><span class="sxs-lookup"><span data-stu-id="c8042-159">Exchange 2010 SP2</span></span>   |<span data-ttu-id="c8042-160">Exchange2010_SP2</span><span class="sxs-lookup"><span data-stu-id="c8042-160">Exchange2010_SP2</span></span> | <span data-ttu-id="c8042-161">包含在 Exchange 2010 SP1 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-161">Includes all the features introduced in Exchange 2010 SP1.</span></span> <br/><br/><span data-ttu-id="c8042-162">Exchange 2010 SP2 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-162">The following features were introduced in Exchange 2010 SP2:</span></span><ul><li><span data-ttu-id="c8042-163">获取密码过期</span><span class="sxs-lookup"><span data-stu-id="c8042-163">Get Password Expiration</span></span>  </li><li>  <span data-ttu-id="c8042-164">DateTime 精度</span><span class="sxs-lookup"><span data-stu-id="c8042-164">DateTime precision</span></span>  </li><li>  <span data-ttu-id="c8042-165">联系人的更新的属性标识符</span><span class="sxs-lookup"><span data-stu-id="c8042-165">Updated property identifiers for contacts</span></span>  </li><li>  <span data-ttu-id="c8042-166">新模拟方案</span><span class="sxs-lookup"><span data-stu-id="c8042-166">New impersonation scenarios</span></span>  </li></ul> |
|<span data-ttu-id="c8042-167">Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="c8042-167">Exchange 2010 SP1</span></span>  |<span data-ttu-id="c8042-168">Exchange2010_SP1</span><span class="sxs-lookup"><span data-stu-id="c8042-168">Exchange2010_SP1</span></span>   | <span data-ttu-id="c8042-169">包含在 Exchange 2010 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-169">Includes all the features introduced in Exchange 2010.</span></span> <br/><br/><span data-ttu-id="c8042-170">Exchange 2010 SP1 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-170">The following features were introduced in Exchange 2010 SP1:</span></span><ul><li><span data-ttu-id="c8042-171">创建、 检索和修改收件箱规则</span><span class="sxs-lookup"><span data-stu-id="c8042-171">Create, retrieve and modify Inbox rules</span></span>  </li><li>  <span data-ttu-id="c8042-172">对存档邮箱的编程访问</span><span class="sxs-lookup"><span data-stu-id="c8042-172">Programmatic access to Archive Mailbox</span></span>  </li><li>  <span data-ttu-id="c8042-173">对话操作</span><span class="sxs-lookup"><span data-stu-id="c8042-173">Conversations actions</span></span>  </li><li>  <span data-ttu-id="c8042-174">防火墙遍历通知</span><span class="sxs-lookup"><span data-stu-id="c8042-174">Firewall traversing notifications</span></span>  </li><li>  <span data-ttu-id="c8042-175">改进的管理功能</span><span class="sxs-lookup"><span data-stu-id="c8042-175">Improved administration features</span></span>  </li><li>  <span data-ttu-id="c8042-176">改进的混合的版本支持</span><span class="sxs-lookup"><span data-stu-id="c8042-176">Improved mixed version support</span></span>  </li><li>  <span data-ttu-id="c8042-177">限制保护支持</span><span class="sxs-lookup"><span data-stu-id="c8042-177">Throttling protection support</span></span>  </li><li>  <span data-ttu-id="c8042-178">应用程序访问 EWS 的控制权</span><span class="sxs-lookup"><span data-stu-id="c8042-178">Control of application access to EWS</span></span>  </li><li>  <span data-ttu-id="c8042-179">客户端证书身份验证支持</span><span class="sxs-lookup"><span data-stu-id="c8042-179">Client certificate authentication support</span></span>  </li></ul> |
|<span data-ttu-id="c8042-180">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c8042-180">Exchange 2010</span></span>  |<span data-ttu-id="c8042-181">Exchange2010</span><span class="sxs-lookup"><span data-stu-id="c8042-181">Exchange2010</span></span>   | <span data-ttu-id="c8042-182">包含在 Exchange 2007 SP1 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-182">Includes all features introduced in Exchange 2007 SP1.</span></span> <br/><br/><span data-ttu-id="c8042-183">初始发行版的 Exchange 2010 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-183">The following features were introduced in the initial release version of Exchange 2010:</span></span><ul><li><span data-ttu-id="c8042-184">完整的私有通讯组列表</span><span class="sxs-lookup"><span data-stu-id="c8042-184">Full Private Distribution List</span></span>  </li><li>  <span data-ttu-id="c8042-185">用户配置对象</span><span class="sxs-lookup"><span data-stu-id="c8042-185">User Configuration Objects</span></span>  </li><li>  <span data-ttu-id="c8042-186">文件夹关联的项目</span><span class="sxs-lookup"><span data-stu-id="c8042-186">Folder Associated Items</span></span>  </li><li>  <span data-ttu-id="c8042-187">邮件跟踪</span><span class="sxs-lookup"><span data-stu-id="c8042-187">Message tracking</span></span>  </li><li>  <span data-ttu-id="c8042-188">统一消息</span><span class="sxs-lookup"><span data-stu-id="c8042-188">Unified Messaging</span></span>  </li><li>  <span data-ttu-id="c8042-189">SOAP 自动发现</span><span class="sxs-lookup"><span data-stu-id="c8042-189">SOAP Autodiscover</span></span>  </li><li>  <span data-ttu-id="c8042-190">所在的时区的增强的支持</span><span class="sxs-lookup"><span data-stu-id="c8042-190">Enhanced Time Zone support</span></span>  </li><li>  <span data-ttu-id="c8042-191">会议室资源可用性信息</span><span class="sxs-lookup"><span data-stu-id="c8042-191">Room resource availability information</span></span>  </li><li>  <span data-ttu-id="c8042-192">索引的搜索</span><span class="sxs-lookup"><span data-stu-id="c8042-192">Indexed search</span></span>  </li><li>  <span data-ttu-id="c8042-193">转储程序访问</span><span class="sxs-lookup"><span data-stu-id="c8042-193">Dumpster access</span></span>  </li><li>  <span data-ttu-id="c8042-194">邮件提示信息</span><span class="sxs-lookup"><span data-stu-id="c8042-194">MailTips information</span></span>  </li></ul> |
|<span data-ttu-id="c8042-195">Exchange 2007 SP1</span><span class="sxs-lookup"><span data-stu-id="c8042-195">Exchange 2007 SP1</span></span>   |<span data-ttu-id="c8042-196">Exchange2007_SP1</span><span class="sxs-lookup"><span data-stu-id="c8042-196">Exchange2007_SP1</span></span>  | <span data-ttu-id="c8042-197">包括所有 Exchange 2007 中引入的功能。</span><span class="sxs-lookup"><span data-stu-id="c8042-197">Includes all the features introduced in Exchange 2007.</span></span> <br/><br/><span data-ttu-id="c8042-198">Exchange 2007 SP1 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-198">The following features were introduced in Exchange 2007 SP1:</span></span><ul><li><span data-ttu-id="c8042-199">管理工作委派给</span><span class="sxs-lookup"><span data-stu-id="c8042-199">Delegate management</span></span>  </li><li>  <span data-ttu-id="c8042-200">文件夹权限</span><span class="sxs-lookup"><span data-stu-id="c8042-200">Folder permissions</span></span>  </li><li>  <span data-ttu-id="c8042-201">公用文件夹</span><span class="sxs-lookup"><span data-stu-id="c8042-201">Public folders</span></span>  </li><li>  <span data-ttu-id="c8042-202">发布项目</span><span class="sxs-lookup"><span data-stu-id="c8042-202">Post items</span></span>  </li><li>  <span data-ttu-id="c8042-203">ID 转换</span><span class="sxs-lookup"><span data-stu-id="c8042-203">ID conversion</span></span>  </li></ul>|
|<span data-ttu-id="c8042-204">Exchange 2007</span><span class="sxs-lookup"><span data-stu-id="c8042-204">Exchange 2007</span></span>  |<span data-ttu-id="c8042-205">Exchange2007</span><span class="sxs-lookup"><span data-stu-id="c8042-205">Exchange2007</span></span> | <span data-ttu-id="c8042-206">初始发行版 Exchange 2007 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="c8042-206">The following features were introduced in the initial release version of Exchange 2007:</span></span><ul><li><span data-ttu-id="c8042-207">对项目、 文件夹和附件 （创建、 获取、 更新和删除） 完全访问权限</span><span class="sxs-lookup"><span data-stu-id="c8042-207">Full access to items, folders, and attachments (Create, Get, Update, Delete)</span></span>  </li><li>  <span data-ttu-id="c8042-208">可用性</span><span class="sxs-lookup"><span data-stu-id="c8042-208">Availability</span></span>  </li><li>  <span data-ttu-id="c8042-209">利用 Office 设置</span><span class="sxs-lookup"><span data-stu-id="c8042-209">Out of Office settings</span></span>  </li><li>  <span data-ttu-id="c8042-210">通知</span><span class="sxs-lookup"><span data-stu-id="c8042-210">Notifications</span></span>  </li><li>  <span data-ttu-id="c8042-211">Synchronization</span><span class="sxs-lookup"><span data-stu-id="c8042-211">Synchronization</span></span>  </li><li>  <span data-ttu-id="c8042-212">名称解析</span><span class="sxs-lookup"><span data-stu-id="c8042-212">Name resolution</span></span>  </li><li>  <span data-ttu-id="c8042-213">通讯组列表 (DL) 扩展</span><span class="sxs-lookup"><span data-stu-id="c8042-213">Distribution list (DL) expansion</span></span>  </li><li>  <span data-ttu-id="c8042-214">搜索</span><span class="sxs-lookup"><span data-stu-id="c8042-214">Search</span></span>  </li></ul> |
   
## <a name="relationship-between-the-ews-schema-and-the-service-version"></a><span data-ttu-id="c8042-215">EWS 架构和的服务版本之间的关系</span><span class="sxs-lookup"><span data-stu-id="c8042-215">Relationship between the EWS schema and the service version</span></span>
<span data-ttu-id="c8042-216"><a name="bk_features"> </a></span><span class="sxs-lookup"><span data-stu-id="c8042-216"></span></span>

<span data-ttu-id="c8042-217">EWS 架构版本相关的 EWS 服务的服务器正在运行的版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-217">The EWS schema version is related to the version of the EWS service that the server is running.</span></span> <span data-ttu-id="c8042-218">与本地版本的 Exchange 相关 EWS 架构的命名图案。</span><span class="sxs-lookup"><span data-stu-id="c8042-218">The naming pattern for the EWS schema is related to the on-premises versions of Exchange.</span></span> <span data-ttu-id="c8042-219">例如，初始版本的 Exchange 2013 具有 15.00.0516.032 和架构名称**Exchange2013**的服务版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-219">For example, the initial release of Exchange 2013 has a service version of 15.00.0516.032 and the schema name **Exchange2013**.</span></span> <span data-ttu-id="c8042-220">Exchange 2013 已更新的模式，因为 Exchange 2013 和 Exchange Online 服务版本的 15.00.0516.032 及更高版本具有最新的架构的相同版本名称。</span><span class="sxs-lookup"><span data-stu-id="c8042-220">Because the schema was updated for Exchange 2013, both Exchange 2013 and Exchange Online with a service version of 15.00.0516.032 and later have the same version name for the latest schema.</span></span> <span data-ttu-id="c8042-221">在早期版本的 Exchange，使用累积更新 （以前称为汇总） 未更新的 EWS 架构。</span><span class="sxs-lookup"><span data-stu-id="c8042-221">In earlier versions of Exchange, the EWS schema was not updated with cumulative updates (formerly called rollups).</span></span> <span data-ttu-id="c8042-222">但累积更新较频繁更新 Exchange 以支持 Exchange Online，因为 ews 的架构更新现在包含。</span><span class="sxs-lookup"><span data-stu-id="c8042-222">But because Exchange is updated more frequently to support Exchange Online, cumulative updates now contain schema updates for EWS.</span></span> <span data-ttu-id="c8042-223">架构文件的名称和关联的架构版本名称，仅更新与 service pack 或 Exchange 内部部署的主要版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-223">The schema file names, and the associated schema version name, are only updated with service packs or major releases of Exchange on-premises.</span></span>
  
<span data-ttu-id="c8042-224">同时的 EWS 架构定义合同，在某些情况下，对服务版本是确定如何应该与该服务进行交互的客户端的唯一方式。</span><span class="sxs-lookup"><span data-stu-id="c8042-224">While the EWS schema defines the contract, in some scenarios, the service version is the only way for a client to determine how it is supposed to interact with the service.</span></span> <span data-ttu-id="c8042-225">只能通过在所有 EWS 响应中返回的服务版本确定服务不会反映在架构中的行为更改。</span><span class="sxs-lookup"><span data-stu-id="c8042-225">Service behavior changes that aren't reflected in the schema can only be determined by the service version returned in all EWS responses.</span></span> <span data-ttu-id="c8042-226">例如时[公用文件夹](public-folder-access-with-ews-in-exchange.md)已在 Exchange 2013 中重新设计，, 这些操作的用于移动和复制公用文件夹更改。</span><span class="sxs-lookup"><span data-stu-id="c8042-226">For example, when [public folders](public-folder-access-with-ews-in-exchange.md) were redesigned in Exchange 2013, the operations that are used to move and copy public folders changed.</span></span> <span data-ttu-id="c8042-227">如果设计将公用文件夹复制 Exchange 2010 中的客户端，您需要使用不同的操作以获取 Exchange 2013 中的相同的结果对其进行更新。</span><span class="sxs-lookup"><span data-stu-id="c8042-227">If you designed a client to copy public folders in Exchange 2010, you would need to update it to use different operations to get the same result in Exchange 2013.</span></span> 
  
## <a name="how-the-ews-schema-is-updated"></a><span data-ttu-id="c8042-228">如何更新 EWS 架构</span><span class="sxs-lookup"><span data-stu-id="c8042-228">How the EWS schema is updated</span></span>
<span data-ttu-id="c8042-229"><a name="bk_features"> </a></span><span class="sxs-lookup"><span data-stu-id="c8042-229"></span></span>

<span data-ttu-id="c8042-230">运行 Exchange 启动与 Exchange 2007 版本的 Exchange 服务器承载 EWS 服务的虚拟目录中包括的 EWS 架构。</span><span class="sxs-lookup"><span data-stu-id="c8042-230">Exchange servers running versions of Exchange starting with Exchange 2007 include the EWS schema in the virtual directory that hosts the EWS service.</span></span> <span data-ttu-id="c8042-231">由的 types.xsd 和 messages.xsd 文件始终表示当前架构版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-231">The current schema version is always represented by the types.xsd and messages.xsd files.</span></span> <span data-ttu-id="c8042-232">图 1 显示了如何 messages.xsd 架构分为两路时开发架构的新版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-232">Figure 1 shows how the messages.xsd schema is forked when a new version of the schema is developed.</span></span> <span data-ttu-id="c8042-233">添加新功能之前，是包含一份原始 messages.xsd 架构并将其重命名以表示架构的以前版本。</span><span class="sxs-lookup"><span data-stu-id="c8042-233">Before new functionality is added, a copy of the original messages.xsd schema is included and renamed to represent the previous version of the schema.</span></span> <span data-ttu-id="c8042-234">Messages.xsd 文件然后更新为新版本的服务说明。</span><span class="sxs-lookup"><span data-stu-id="c8042-234">The messages.xsd file is then updated with the service description for the new version.</span></span>
  
<span data-ttu-id="c8042-235">**图 1。如何更新 EWS 架构**</span><span class="sxs-lookup"><span data-stu-id="c8042-235">**Figure 1. How the EWS schema is updated**</span></span>

![显示如何更新 EWS 架构的示意图。分离最新的架构版本，以便对之前版本重命名，且最新文件名显示当前版本。](media/Ex15_EWS_Schema_Update1.png)
  
<span data-ttu-id="c8042-238">EWS 架构更新的新版本之前，当前版本的架构分为两路，并使用以下约定重命名：</span><span class="sxs-lookup"><span data-stu-id="c8042-238">Before the EWS schema is updated for a new version, the current version of the schema is forked and renamed using the following convention:</span></span>
  
`<schemaname>-<majorserverversion><servicepack>.xsd`
  
<span data-ttu-id="c8042-239">原始文件名然后表示的最新的架构。</span><span class="sxs-lookup"><span data-stu-id="c8042-239">The original file name then represents the latest schema.</span></span> <span data-ttu-id="c8042-240">所有新功能添加到最新的架构，除外更新和修补程序与早期版本的架构。</span><span class="sxs-lookup"><span data-stu-id="c8042-240">All new features are added to the latest schema, with the exception of updates and fixes to the earlier versions of the schema.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="c8042-241">另请参阅</span><span class="sxs-lookup"><span data-stu-id="c8042-241">See also</span></span>

- [<span data-ttu-id="c8042-242">Exchange 中的 EWS 架构版本</span><span class="sxs-lookup"><span data-stu-id="c8042-242">EWS schema versions in Exchange</span></span>](ews-schema-versions-in-exchange.md) 
- [<span data-ttu-id="c8042-243">Exchange 自动发现</span><span class="sxs-lookup"><span data-stu-id="c8042-243">Autodiscover for Exchange</span></span>](autodiscover-for-exchange.md) 
- [<span data-ttu-id="c8042-244">开发 Exchange Web 服务客户端</span><span class="sxs-lookup"><span data-stu-id="c8042-244">Develop web service clients for Exchange</span></span>](develop-web-service-clients-for-exchange.md)
    

