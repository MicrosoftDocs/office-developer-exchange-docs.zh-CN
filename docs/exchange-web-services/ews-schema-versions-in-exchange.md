---
title: Exchange 中的 EWS 架构版本
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
ms.assetid: d1ab6f9c-ea91-4022-830d-7f7b759e3935
description: 了解 EWS 架构以及如何设计应用程序以使用它，以及每个架构版本可用的功能，以及架构与 Exchange 服务版本的关联方式。
localization_priority: Priority
ms.openlocfilehash: 6afef658e747b11d9aa5fb7d7a88ba8f5c57ac82
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2020
ms.locfileid: "44456009"
---
# <a name="ews-schema-versions-in-exchange"></a><span data-ttu-id="2ba16-103">Exchange 中的 EWS 架构版本</span><span class="sxs-lookup"><span data-stu-id="2ba16-103">EWS schema versions in Exchange</span></span>

<span data-ttu-id="2ba16-104">了解 EWS 架构以及如何设计应用程序以使用它，以及每个架构版本可用的功能，以及架构与 Exchange 服务版本的关联方式。</span><span class="sxs-lookup"><span data-stu-id="2ba16-104">Learn about the EWS schema and how to design your application to work with it, as well as the features that are available with each schema version, and how the schema relates to the Exchange service version.</span></span>
  
<span data-ttu-id="2ba16-105">EWS 架构定义可以发送到 Exchange 并由其返回的数据结构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-105">The EWS schema defines the data structures that can be sent to and returned by Exchange.</span></span> <span data-ttu-id="2ba16-106">包含对 EWS 功能的重大更改的每个新版本的 Exchange 都将包含一个新架构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-106">Each new version of Exchange that contains a significant change to EWS functionality will contain a new schema.</span></span> <span data-ttu-id="2ba16-107">EWS 和 EWS 架构都是反向的，在某些情况下，针对早期版本的 EWS 设计的前向兼容应用程序将正常运行，在大多数情况下，在使用更高版本的 ews 的情况下，如果早期版本中包含相同的功能，则将使用面向 EWS 的更高版本的应用程序。</span><span class="sxs-lookup"><span data-stu-id="2ba16-107">EWS and the EWS schema are both backward, and in some cases, forward compatible - applications designed against earlier versions of EWS will work, in most cases, with later versions of EWS, and applications that target later versions of EWS will work if the same functionality was included in an earlier version.</span></span> <span data-ttu-id="2ba16-108">本文将帮助您了解 EWS 架构的角色、架构版本控制的工作原理、架构版本和服务版本之间的关系，以及如何将应用程序设计为使用 EWS 架构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-108">This article will help you understand the role of the EWS schema, how schema versioning works, the relationship between the schema version and the service version, and how to design your application to work with the EWS schema.</span></span> 
  
## <a name="role-of-the-ews-schema"></a><span data-ttu-id="2ba16-109">EWS 架构的角色</span><span class="sxs-lookup"><span data-stu-id="2ba16-109">Role of the EWS schema</span></span>

<span data-ttu-id="2ba16-110">EWS 架构执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="2ba16-110">The EWS schema does the following:</span></span>
  
- <span data-ttu-id="2ba16-111">定义可用于客户端的功能集。</span><span class="sxs-lookup"><span data-stu-id="2ba16-111">Defines the feature set that is available to a client.</span></span> <span data-ttu-id="2ba16-112">客户端可以使用 SOAP[自动发现服务](autodiscover-for-exchange.md)获取受支持的架构版本的列表。</span><span class="sxs-lookup"><span data-stu-id="2ba16-112">A client can get the list of the supported schema versions by using the SOAP [Autodiscover service](autodiscover-for-exchange.md).</span></span> <span data-ttu-id="2ba16-113">然后，客户端可以确定它可以访问的功能，因为每个架构版本都代表[EWS 功能集](ews-schema-versions-in-exchange.md#bk_features)。</span><span class="sxs-lookup"><span data-stu-id="2ba16-113">The client can then determine which features it can access, because each schema version represents an [EWS feature set](ews-schema-versions-in-exchange.md#bk_features).</span></span> <span data-ttu-id="2ba16-114">为 EWS 发布的每个新架构都包含早期版本中的架构实体以及任何新功能的架构定义。</span><span class="sxs-lookup"><span data-stu-id="2ba16-114">Each new schema released for EWS contains of the schema entities from the previous version plus the schema definitions for any new functionality.</span></span> <span data-ttu-id="2ba16-115">通过这种方式，EWS 支持面向 EWS 的早期版本的应用程序。</span><span class="sxs-lookup"><span data-stu-id="2ba16-115">This way, EWS supports applications that target an earlier version of EWS.</span></span>
    
- <span data-ttu-id="2ba16-116">提供 API 约定的一般说明。</span><span class="sxs-lookup"><span data-stu-id="2ba16-116">Provides a general description of the API contract.</span></span> <span data-ttu-id="2ba16-117">您可以使用此约定来确定可发送到 Exchange 和从 Exchange 接收的数据结构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-117">You can use this contract to determine the data structures that can be sent to and received from Exchange.</span></span>
    
- <span data-ttu-id="2ba16-118">提供用于发送请求的版本控制机制。</span><span class="sxs-lookup"><span data-stu-id="2ba16-118">Provides a versioning mechanism for sending requests.</span></span> <span data-ttu-id="2ba16-119">Exchange 服务器包含其虚拟目录中的所有受支持的 EWS 架构版本。</span><span class="sxs-lookup"><span data-stu-id="2ba16-119">The Exchange server contains all the supported EWS schema versions in its virtual directory.</span></span> 
    
## <a name="designing-your-application-with-schema-version-in-mind"></a><span data-ttu-id="2ba16-120">设计具有架构版本的应用程序，请注意</span><span class="sxs-lookup"><span data-stu-id="2ba16-120">Designing your application with schema version in mind</span></span>

<span data-ttu-id="2ba16-121">设计应用程序以使用不同版本的 EWS 架构时，请记住以下几点：</span><span class="sxs-lookup"><span data-stu-id="2ba16-121">Keep the following points in mind as you design your application to work with different versions of the EWS schema:</span></span>
  
- <span data-ttu-id="2ba16-122">打开/关闭基于架构版本的功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-122">Turn on/off functionality based on the schema version.</span></span> <span data-ttu-id="2ba16-123">您需要将客户端功能映射到架构版本，在某些情况下，将其映射到服务的版本。</span><span class="sxs-lookup"><span data-stu-id="2ba16-123">You'll want to map client functionality to the schema version and, in some cases, to the version of the service.</span></span> <span data-ttu-id="2ba16-124">下面的示例将根据架构和服务的版本返回[PropertySet](https://msdn.microsoft.com/library/office/microsoft.exchange.webservices.data.propertyset%28v=exchg.80%29.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="2ba16-124">The following example will return a [PropertySet](https://msdn.microsoft.com/library/office/microsoft.exchange.webservices.data.propertyset%28v=exchg.80%29.aspx) based on the version of the schema and service.</span></span> 
    
  ```cs
  private static PropertySet InitPropertySetByVersion(ExchangeService service)
  {
      PropertySet props;
      // The schema version to target to access the NormalizedBody property 
      // is Exchange2013 or later. The server version to target to access the 
      // NormalizedBody property on an email is 15 or later, which 
      // equates to Exchange 2013.
      if (service.RequestedServerVersion >= ExchangeVersion.Exchange2013 &amp;&amp;
          service.ServerInfo.MajorVersion >= 15)
      {
          props = new PropertySet(EmailMessageSchema.NormalizedBody);
      }
      else
      {
          props = new PropertySet(EmailMessageSchema.Body);
      }
      return props;
  }
  ```

- <span data-ttu-id="2ba16-125">使用支持您要使用的功能的最早版本的 EWS 架构版本请求。</span><span class="sxs-lookup"><span data-stu-id="2ba16-125">Version your requests with the earliest version of the EWS schema that supports the functionality you want to use.</span></span> <span data-ttu-id="2ba16-126">这将使您的客户端适用于大量的潜在 Exchange 服务器。</span><span class="sxs-lookup"><span data-stu-id="2ba16-126">This will make your client applicable to a larger number of potential Exchange servers.</span></span> <span data-ttu-id="2ba16-127">如果要开发业务线应用程序以仅面向组织的服务器，则这一点不太重要，但如果要为更广泛的 Exchange 受众构建应用程序，这一点非常重要。</span><span class="sxs-lookup"><span data-stu-id="2ba16-127">This is less important if you're developing a line-of-business application to target your organization's servers only, but is very important if you're building an application for a wider Exchange audience.</span></span>
    
## <a name="features-by-schema-version"></a><span data-ttu-id="2ba16-128">按架构版本的功能</span><span class="sxs-lookup"><span data-stu-id="2ba16-128">Features by schema version</span></span>
<span data-ttu-id="2ba16-129"><a name="bk_features"> </a></span><span class="sxs-lookup"><span data-stu-id="2ba16-129"><a name="bk_features"> </a></span></span>

<span data-ttu-id="2ba16-130">可用于客户端的架构版本在**ExchangeVersionType**中的类型为 .xsd 架构的简单类型中进行标识。</span><span class="sxs-lookup"><span data-stu-id="2ba16-130">The schema versions that are available to a client are identified in the **ExchangeVersionType** simple type located in the types.xsd schema.</span></span> <span data-ttu-id="2ba16-131">**ExchangeVersionType**由[RequestServerVersion](https://msdn.microsoft.com/library/af4032d5-42b3-463e-9d0a-8236d78e5b75%28Office.15%29.aspx)元素实现。</span><span class="sxs-lookup"><span data-stu-id="2ba16-131">The **ExchangeVersionType** is implemented by the [RequestServerVersion](https://msdn.microsoft.com/library/af4032d5-42b3-463e-9d0a-8236d78e5b75%28Office.15%29.aspx) element.</span></span> <span data-ttu-id="2ba16-132">**RequestServerVersion**元素在所有 EWS 请求中发送，以向服务器指示客户端所针对的架构版本。</span><span class="sxs-lookup"><span data-stu-id="2ba16-132">The **RequestServerVersion** element is sent in all EWS requests to indicate to the server which version of the schema the client targets.</span></span> <span data-ttu-id="2ba16-133">这反过来又标识了可用于客户端的功能集。</span><span class="sxs-lookup"><span data-stu-id="2ba16-133">This in turn identifies the feature set that is available to the client.</span></span> 
  
<span data-ttu-id="2ba16-134">**表1：按产品和架构版本的 EWS 功能**</span><span class="sxs-lookup"><span data-stu-id="2ba16-134">**Table 1: EWS features by product and schema version**</span></span>

|<span data-ttu-id="2ba16-135">**产品版本**</span><span class="sxs-lookup"><span data-stu-id="2ba16-135">**Product version**</span></span>|<span data-ttu-id="2ba16-136">**关联架构版本**</span><span class="sxs-lookup"><span data-stu-id="2ba16-136">**Associated schema version**</span></span>|<span data-ttu-id="2ba16-137">**功能**</span><span class="sxs-lookup"><span data-stu-id="2ba16-137">**Features**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="2ba16-138">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="2ba16-138">Exchange Online</span></span>  |<span data-ttu-id="2ba16-139">最新的架构版本。</span><span class="sxs-lookup"><span data-stu-id="2ba16-139">The latest schema version.</span></span>  |<span data-ttu-id="2ba16-140">除了为联机客户端添加的任何新功能之外，还包括当前 Exchange 版本中的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-140">Includes all the features in the current version of Exchange in addition to any new features that are added for online clients.</span></span> |
|<span data-ttu-id="2ba16-141">Exchange 2013 SP1</span><span class="sxs-lookup"><span data-stu-id="2ba16-141">Exchange 2013 SP1</span></span> |<span data-ttu-id="2ba16-142">Exchange2013_SP1</span><span class="sxs-lookup"><span data-stu-id="2ba16-142">Exchange2013_SP1</span></span> | <span data-ttu-id="2ba16-143">包含 Exchange 2013 中的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-143">Includes all the features in Exchange 2013.</span></span><br/><br/><span data-ttu-id="2ba16-144">Exchange 2013 SP1 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-144">The following features were introduced in Exchange 2013 SP1:</span></span> <ul><li>[<span data-ttu-id="2ba16-145">邮箱保留策略</span><span class="sxs-lookup"><span data-stu-id="2ba16-145">Mailbox hold policy</span></span>](https://msdn.microsoft.com/library/office/microsoft.exchange.webservices.data.exchangeservice.setholdonmailboxes%28v=exchg.80%29.aspx) </li><li> [<span data-ttu-id="2ba16-146">建议新时间</span><span class="sxs-lookup"><span data-stu-id="2ba16-146">Propose new time</span></span>](how-to-propose-a-new-meeting-time-by-using-ews-in-exchange.md) </li><li>  <span data-ttu-id="2ba16-147">读取[更新](https://msdn.microsoft.com/library/office/dn600559%28v=exchg.80%29.aspx)和[删除](https://msdn.microsoft.com/library/office/dn600557%28v=exchg.80%29.aspx)项目的回执更新</span><span class="sxs-lookup"><span data-stu-id="2ba16-147">Read receipt updates for [updating](https://msdn.microsoft.com/library/office/dn600559%28v=exchg.80%29.aspx) and [deleting](https://msdn.microsoft.com/library/office/dn600557%28v=exchg.80%29.aspx) items</span></span>  </li><li> <span data-ttu-id="2ba16-148">对话的[IRM 信息](https://msdn.microsoft.com/library/office/microsoft.exchange.webservices.data.conversation.hasirm%28v=exchg.80%29.aspx)更新</span><span class="sxs-lookup"><span data-stu-id="2ba16-148">[IRM information](https://msdn.microsoft.com/library/office/microsoft.exchange.webservices.data.conversation.hasirm%28v=exchg.80%29.aspx) update for conversations</span></span>  </li></ul> |
|<span data-ttu-id="2ba16-149">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="2ba16-149">Exchange 2013</span></span>   |<span data-ttu-id="2ba16-150">Exchange2013</span><span class="sxs-lookup"><span data-stu-id="2ba16-150">Exchange2013</span></span>   | <span data-ttu-id="2ba16-151">包括 Exchange 2007 和 Exchange 2010 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-151">Includes all features introduced in Exchange 2007 and Exchange 2010.</span></span> <br/><br/><span data-ttu-id="2ba16-152">Exchange 2013 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-152">The following features were introduced in Exchange 2013:</span></span><ul><li><span data-ttu-id="2ba16-153">存档</span><span class="sxs-lookup"><span data-stu-id="2ba16-153">Archiving</span></span>  </li><li>  <span data-ttu-id="2ba16-154">电子数据展示</span><span class="sxs-lookup"><span data-stu-id="2ba16-154">eDiscovery</span></span>  </li><li>  <span data-ttu-id="2ba16-155">人数</span><span class="sxs-lookup"><span data-stu-id="2ba16-155">Personas</span></span>  </li><li>  <span data-ttu-id="2ba16-156">保留策略</span><span class="sxs-lookup"><span data-stu-id="2ba16-156">Retention policies</span></span>  </li><li>  <span data-ttu-id="2ba16-157">统一联系人存储</span><span class="sxs-lookup"><span data-stu-id="2ba16-157">Unified Contact Store</span></span>  </li><li>  <span data-ttu-id="2ba16-158">用户照片</span><span class="sxs-lookup"><span data-stu-id="2ba16-158">User photos</span></span>  </li></ul> |
|<span data-ttu-id="2ba16-159">Exchange 2010 SP2</span><span class="sxs-lookup"><span data-stu-id="2ba16-159">Exchange 2010 SP2</span></span>   |<span data-ttu-id="2ba16-160">Exchange2010_SP2</span><span class="sxs-lookup"><span data-stu-id="2ba16-160">Exchange2010_SP2</span></span> | <span data-ttu-id="2ba16-161">包括 Exchange 2010 SP1 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-161">Includes all the features introduced in Exchange 2010 SP1.</span></span> <br/><br/><span data-ttu-id="2ba16-162">Exchange 2010 SP2 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-162">The following features were introduced in Exchange 2010 SP2:</span></span><ul><li><span data-ttu-id="2ba16-163">获取密码过期</span><span class="sxs-lookup"><span data-stu-id="2ba16-163">Get Password Expiration</span></span>  </li><li>  <span data-ttu-id="2ba16-164">日期时间精度</span><span class="sxs-lookup"><span data-stu-id="2ba16-164">DateTime precision</span></span>  </li><li>  <span data-ttu-id="2ba16-165">更新了联系人的属性标识符</span><span class="sxs-lookup"><span data-stu-id="2ba16-165">Updated property identifiers for contacts</span></span>  </li><li>  <span data-ttu-id="2ba16-166">新的模拟方案</span><span class="sxs-lookup"><span data-stu-id="2ba16-166">New impersonation scenarios</span></span>  </li></ul> |
|<span data-ttu-id="2ba16-167">Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="2ba16-167">Exchange 2010 SP1</span></span>  |<span data-ttu-id="2ba16-168">Exchange2010_SP1</span><span class="sxs-lookup"><span data-stu-id="2ba16-168">Exchange2010_SP1</span></span>   | <span data-ttu-id="2ba16-169">包括 Exchange 2010 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-169">Includes all the features introduced in Exchange 2010.</span></span> <br/><br/><span data-ttu-id="2ba16-170">Exchange 2010 SP1 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-170">The following features were introduced in Exchange 2010 SP1:</span></span><ul><li><span data-ttu-id="2ba16-171">创建、检索和修改收件箱规则</span><span class="sxs-lookup"><span data-stu-id="2ba16-171">Create, retrieve and modify Inbox rules</span></span>  </li><li>  <span data-ttu-id="2ba16-172">以编程方式访问存档邮箱</span><span class="sxs-lookup"><span data-stu-id="2ba16-172">Programmatic access to Archive Mailbox</span></span>  </li><li>  <span data-ttu-id="2ba16-173">对话操作</span><span class="sxs-lookup"><span data-stu-id="2ba16-173">Conversations actions</span></span>  </li><li>  <span data-ttu-id="2ba16-174">防火墙遍历通知</span><span class="sxs-lookup"><span data-stu-id="2ba16-174">Firewall traversing notifications</span></span>  </li><li>  <span data-ttu-id="2ba16-175">改进的管理功能</span><span class="sxs-lookup"><span data-stu-id="2ba16-175">Improved administration features</span></span>  </li><li>  <span data-ttu-id="2ba16-176">改进了混合版本支持</span><span class="sxs-lookup"><span data-stu-id="2ba16-176">Improved mixed version support</span></span>  </li><li>  <span data-ttu-id="2ba16-177">限制保护支持</span><span class="sxs-lookup"><span data-stu-id="2ba16-177">Throttling protection support</span></span>  </li><li>  <span data-ttu-id="2ba16-178">控制对 EWS 的应用程序访问</span><span class="sxs-lookup"><span data-stu-id="2ba16-178">Control of application access to EWS</span></span>  </li><li>  <span data-ttu-id="2ba16-179">客户端证书身份验证支持</span><span class="sxs-lookup"><span data-stu-id="2ba16-179">Client certificate authentication support</span></span>  </li></ul> |
|<span data-ttu-id="2ba16-180">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="2ba16-180">Exchange 2010</span></span>  |<span data-ttu-id="2ba16-181">Exchange2010</span><span class="sxs-lookup"><span data-stu-id="2ba16-181">Exchange2010</span></span>   | <span data-ttu-id="2ba16-182">包括 Exchange 2007 SP1 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-182">Includes all features introduced in Exchange 2007 SP1.</span></span> <br/><br/><span data-ttu-id="2ba16-183">Exchange 2010 的初始发布版本中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-183">The following features were introduced in the initial release version of Exchange 2010:</span></span><ul><li><span data-ttu-id="2ba16-184">完整私有通讯组列表</span><span class="sxs-lookup"><span data-stu-id="2ba16-184">Full Private Distribution List</span></span>  </li><li>  <span data-ttu-id="2ba16-185">用户配置对象</span><span class="sxs-lookup"><span data-stu-id="2ba16-185">User Configuration Objects</span></span>  </li><li>  <span data-ttu-id="2ba16-186">文件夹关联的项目</span><span class="sxs-lookup"><span data-stu-id="2ba16-186">Folder Associated Items</span></span>  </li><li>  <span data-ttu-id="2ba16-187">邮件跟踪</span><span class="sxs-lookup"><span data-stu-id="2ba16-187">Message tracking</span></span>  </li><li>  <span data-ttu-id="2ba16-188">统一消息</span><span class="sxs-lookup"><span data-stu-id="2ba16-188">Unified Messaging</span></span>  </li><li>  <span data-ttu-id="2ba16-189">SOAP 自动发现</span><span class="sxs-lookup"><span data-stu-id="2ba16-189">SOAP Autodiscover</span></span>  </li><li>  <span data-ttu-id="2ba16-190">增强时区支持</span><span class="sxs-lookup"><span data-stu-id="2ba16-190">Enhanced Time Zone support</span></span>  </li><li>  <span data-ttu-id="2ba16-191">会议室资源可用性信息</span><span class="sxs-lookup"><span data-stu-id="2ba16-191">Room resource availability information</span></span>  </li><li>  <span data-ttu-id="2ba16-192">索引搜索</span><span class="sxs-lookup"><span data-stu-id="2ba16-192">Indexed search</span></span>  </li><li>  <span data-ttu-id="2ba16-193">转储程序访问</span><span class="sxs-lookup"><span data-stu-id="2ba16-193">Dumpster access</span></span>  </li><li>  <span data-ttu-id="2ba16-194">邮件提示信息</span><span class="sxs-lookup"><span data-stu-id="2ba16-194">MailTips information</span></span>  </li></ul> |
|<span data-ttu-id="2ba16-195">Exchange 2007 SP1</span><span class="sxs-lookup"><span data-stu-id="2ba16-195">Exchange 2007 SP1</span></span>   |<span data-ttu-id="2ba16-196">Exchange2007_SP1</span><span class="sxs-lookup"><span data-stu-id="2ba16-196">Exchange2007_SP1</span></span>  | <span data-ttu-id="2ba16-197">包括 Exchange 2007 中引入的所有功能。</span><span class="sxs-lookup"><span data-stu-id="2ba16-197">Includes all the features introduced in Exchange 2007.</span></span> <br/><br/><span data-ttu-id="2ba16-198">Exchange 2007 SP1 中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-198">The following features were introduced in Exchange 2007 SP1:</span></span><ul><li><span data-ttu-id="2ba16-199">委派管理</span><span class="sxs-lookup"><span data-stu-id="2ba16-199">Delegate management</span></span>  </li><li>  <span data-ttu-id="2ba16-200">文件夹权限</span><span class="sxs-lookup"><span data-stu-id="2ba16-200">Folder permissions</span></span>  </li><li>  <span data-ttu-id="2ba16-201">公用文件夹</span><span class="sxs-lookup"><span data-stu-id="2ba16-201">Public folders</span></span>  </li><li>  <span data-ttu-id="2ba16-202">发布项目</span><span class="sxs-lookup"><span data-stu-id="2ba16-202">Post items</span></span>  </li><li>  <span data-ttu-id="2ba16-203">ID 转换</span><span class="sxs-lookup"><span data-stu-id="2ba16-203">ID conversion</span></span>  </li></ul>|
|<span data-ttu-id="2ba16-204">Exchange 2007</span><span class="sxs-lookup"><span data-stu-id="2ba16-204">Exchange 2007</span></span>  |<span data-ttu-id="2ba16-205">Exchange2007</span><span class="sxs-lookup"><span data-stu-id="2ba16-205">Exchange2007</span></span> | <span data-ttu-id="2ba16-206">Exchange 2007 的初始发布版本中引入了以下功能：</span><span class="sxs-lookup"><span data-stu-id="2ba16-206">The following features were introduced in the initial release version of Exchange 2007:</span></span><ul><li><span data-ttu-id="2ba16-207">对项目、文件夹和附件的完全访问权限（创建、获取、更新、删除）</span><span class="sxs-lookup"><span data-stu-id="2ba16-207">Full access to items, folders, and attachments (Create, Get, Update, Delete)</span></span>  </li><li>  <span data-ttu-id="2ba16-208">供应情况</span><span class="sxs-lookup"><span data-stu-id="2ba16-208">Availability</span></span>  </li><li>  <span data-ttu-id="2ba16-209">"外出" 设置</span><span class="sxs-lookup"><span data-stu-id="2ba16-209">Out of Office settings</span></span>  </li><li>  <span data-ttu-id="2ba16-210">通知</span><span class="sxs-lookup"><span data-stu-id="2ba16-210">Notifications</span></span>  </li><li>  <span data-ttu-id="2ba16-211">同步</span><span class="sxs-lookup"><span data-stu-id="2ba16-211">Synchronization</span></span>  </li><li>  <span data-ttu-id="2ba16-212">名称解析</span><span class="sxs-lookup"><span data-stu-id="2ba16-212">Name resolution</span></span>  </li><li>  <span data-ttu-id="2ba16-213">通讯组列表（DL）扩展</span><span class="sxs-lookup"><span data-stu-id="2ba16-213">Distribution list (DL) expansion</span></span>  </li><li>  <span data-ttu-id="2ba16-214">搜索</span><span class="sxs-lookup"><span data-stu-id="2ba16-214">Search</span></span>  </li></ul> |
   
## <a name="relationship-between-the-ews-schema-and-the-service-version"></a><span data-ttu-id="2ba16-215">EWS 架构和服务版本之间的关系</span><span class="sxs-lookup"><span data-stu-id="2ba16-215">Relationship between the EWS schema and the service version</span></span>
<span data-ttu-id="2ba16-216"><a name="bk_features"> </a></span><span class="sxs-lookup"><span data-stu-id="2ba16-216"><a name="bk_features"> </a></span></span>

<span data-ttu-id="2ba16-217">EWS 架构版本与服务器正在运行的 EWS 服务的版本相关。</span><span class="sxs-lookup"><span data-stu-id="2ba16-217">The EWS schema version is related to the version of the EWS service that the server is running.</span></span> <span data-ttu-id="2ba16-218">EWS 架构的命名模式与 Exchange 的内部部署版本相关。</span><span class="sxs-lookup"><span data-stu-id="2ba16-218">The naming pattern for the EWS schema is related to the on-premises versions of Exchange.</span></span> <span data-ttu-id="2ba16-219">例如，Exchange 2013 的初始版本具有15.00.0516.032 的服务版本和架构名称**Exchange2013**。</span><span class="sxs-lookup"><span data-stu-id="2ba16-219">For example, the initial release of Exchange 2013 has a service version of 15.00.0516.032 and the schema name **Exchange2013**.</span></span> <span data-ttu-id="2ba16-220">由于架构是为 Exchange 2013 更新的，因此 Exchange 2013 和 Exchange Online 的服务版本15.00.0516.032 和更高版本的最新架构的版本名称相同。</span><span class="sxs-lookup"><span data-stu-id="2ba16-220">Because the schema was updated for Exchange 2013, both Exchange 2013 and Exchange Online with a service version of 15.00.0516.032 and later have the same version name for the latest schema.</span></span> <span data-ttu-id="2ba16-221">在早期版本的 Exchange 中，EWS 架构未更新为累积更新（以前称为汇总）。</span><span class="sxs-lookup"><span data-stu-id="2ba16-221">In earlier versions of Exchange, the EWS schema was not updated with cumulative updates (formerly called rollups).</span></span> <span data-ttu-id="2ba16-222">但是，因为 Exchange 更新频率更高，以支持 Exchange Online，所以累积更新现在包含 EWS 的架构更新。</span><span class="sxs-lookup"><span data-stu-id="2ba16-222">But because Exchange is updated more frequently to support Exchange Online, cumulative updates now contain schema updates for EWS.</span></span> <span data-ttu-id="2ba16-223">架构文件名称和关联的架构版本名称仅使用 Exchange 本地 Exchange 的 service pack 或主要版本进行更新。</span><span class="sxs-lookup"><span data-stu-id="2ba16-223">The schema file names, and the associated schema version name, are only updated with service packs or major releases of Exchange on-premises.</span></span>
  
<span data-ttu-id="2ba16-224">虽然 EWS 架构定义了合同，但在某些情况下，服务版本是客户端确定应如何与服务进行交互的唯一方法。</span><span class="sxs-lookup"><span data-stu-id="2ba16-224">While the EWS schema defines the contract, in some scenarios, the service version is the only way for a client to determine how it is supposed to interact with the service.</span></span> <span data-ttu-id="2ba16-225">不会反映在架构中的服务行为更改只能由在所有 EWS 响应中返回的服务版本确定。</span><span class="sxs-lookup"><span data-stu-id="2ba16-225">Service behavior changes that aren't reflected in the schema can only be determined by the service version returned in all EWS responses.</span></span> <span data-ttu-id="2ba16-226">例如，在 Exchange 2013 中对[公用文件夹](public-folder-access-with-ews-in-exchange.md)进行重新设计时，用于移动和复制公用文件夹的操作也会发生更改。</span><span class="sxs-lookup"><span data-stu-id="2ba16-226">For example, when [public folders](public-folder-access-with-ews-in-exchange.md) were redesigned in Exchange 2013, the operations that are used to move and copy public folders changed.</span></span> <span data-ttu-id="2ba16-227">如果您设计了一个客户端来复制 Exchange 2010 中的公用文件夹，则需要将其更新为使用不同的操作，以便在 Exchange 2013 中获得相同的结果。</span><span class="sxs-lookup"><span data-stu-id="2ba16-227">If you designed a client to copy public folders in Exchange 2010, you would need to update it to use different operations to get the same result in Exchange 2013.</span></span> 
  
## <a name="how-the-ews-schema-is-updated"></a><span data-ttu-id="2ba16-228">如何更新 EWS 架构</span><span class="sxs-lookup"><span data-stu-id="2ba16-228">How the EWS schema is updated</span></span>
<span data-ttu-id="2ba16-229"><a name="bk_features"> </a></span><span class="sxs-lookup"><span data-stu-id="2ba16-229"><a name="bk_features"> </a></span></span>

<span data-ttu-id="2ba16-230">运行 Exchange 版本（从 Exchange 2007 开始）的 exchange 服务器在承载 EWS 服务的虚拟目录中包含 EWS 架构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-230">Exchange servers running versions of Exchange starting with Exchange 2007 include the EWS schema in the virtual directory that hosts the EWS service.</span></span> <span data-ttu-id="2ba16-231">当前架构版本始终由类型 .xsd 和消息 .xsd 文件表示。</span><span class="sxs-lookup"><span data-stu-id="2ba16-231">The current schema version is always represented by the types.xsd and messages.xsd files.</span></span> <span data-ttu-id="2ba16-232">图1显示了在开发新版本的架构时，消息 .xsd 架构是如何分叉的。</span><span class="sxs-lookup"><span data-stu-id="2ba16-232">Figure 1 shows how the messages.xsd schema is forked when a new version of the schema is developed.</span></span> <span data-ttu-id="2ba16-233">在添加新功能之前，原始邮件的副本。 xsd 架构被包含并重命名以表示以前版本的架构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-233">Before new functionality is added, a copy of the original messages.xsd schema is included and renamed to represent the previous version of the schema.</span></span> <span data-ttu-id="2ba16-234">随后，将使用新版本的服务说明更新这些 .xsd 文件。</span><span class="sxs-lookup"><span data-stu-id="2ba16-234">The messages.xsd file is then updated with the service description for the new version.</span></span>
  
<span data-ttu-id="2ba16-235">**图1。如何更新 EWS 架构**</span><span class="sxs-lookup"><span data-stu-id="2ba16-235">**Figure 1. How the EWS schema is updated**</span></span>

![显示如何更新 EWS 架构的示意图。分离最新的架构版本，以便对之前版本重命名，且最新文件名显示当前版本。](media/Ex15_EWS_Schema_Update1.png)
  
<span data-ttu-id="2ba16-238">在更新新版本的 EWS 架构之前，将使用以下约定分叉和重命名架构的当前版本：</span><span class="sxs-lookup"><span data-stu-id="2ba16-238">Before the EWS schema is updated for a new version, the current version of the schema is forked and renamed using the following convention:</span></span>
  
`<schemaname>-<majorserverversion><servicepack>.xsd`
  
<span data-ttu-id="2ba16-239">然后，原始文件名表示最新架构。</span><span class="sxs-lookup"><span data-stu-id="2ba16-239">The original file name then represents the latest schema.</span></span> <span data-ttu-id="2ba16-240">除了更新和修补程序对架构的早期版本之外，所有新功能都将添加到最新架构中。</span><span class="sxs-lookup"><span data-stu-id="2ba16-240">All new features are added to the latest schema, with the exception of updates and fixes to the earlier versions of the schema.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="2ba16-241">另请参阅</span><span class="sxs-lookup"><span data-stu-id="2ba16-241">See also</span></span>

- [<span data-ttu-id="2ba16-242">Exchange 中的 EWS 架构版本</span><span class="sxs-lookup"><span data-stu-id="2ba16-242">EWS schema versions in Exchange</span></span>](ews-schema-versions-in-exchange.md) 
- [<span data-ttu-id="2ba16-243">Exchange 自动发现</span><span class="sxs-lookup"><span data-stu-id="2ba16-243">Autodiscover for Exchange</span></span>](autodiscover-for-exchange.md) 
- [<span data-ttu-id="2ba16-244">开发 Exchange Web 服务客户端</span><span class="sxs-lookup"><span data-stu-id="2ba16-244">Develop web service clients for Exchange</span></span>](develop-web-service-clients-for-exchange.md)
    

