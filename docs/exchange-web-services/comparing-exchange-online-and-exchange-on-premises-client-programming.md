---
title: 比较 Exchange Online 和 Exchange 本地客户端编程
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: 3c2eabe4-52bc-461e-a6dd-f65f22f16e50
description: 了解有关创建可用于 Exchange Online 和 Exchange 本地 Exchange 的 EWS 托管 API 或 EWS 客户端应用程序的设计注意事项。
ms.openlocfilehash: 8b4dbae5cadfed377aa3a7179144a7cea68bc35c
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2020
ms.locfileid: "44456162"
---
# <a name="comparing-exchange-online-and-exchange-on-premises-client-programming"></a><span data-ttu-id="49d2e-103">比较 Exchange Online 和 Exchange 本地客户端编程</span><span class="sxs-lookup"><span data-stu-id="49d2e-103">Comparing Exchange Online and Exchange on-premises client programming</span></span>

<span data-ttu-id="49d2e-104">了解有关创建可用于 Exchange Online 和 Exchange 本地 Exchange 的 EWS 托管 API 或 EWS 客户端应用程序的设计注意事项。</span><span class="sxs-lookup"><span data-stu-id="49d2e-104">Learn about the design considerations for creating an EWS Managed API or EWS client application that works against Exchange Online and Exchange on-premises.</span></span>
  
<span data-ttu-id="49d2e-105">大多数情况下，客户端和 Exchange 中的 web 服务将以相同的方式工作，无论目标是 Exchange Online、Exchange Online 还是 Office 365 的一部分，还是 Exchange 本地服务器。</span><span class="sxs-lookup"><span data-stu-id="49d2e-105">For the most part, clients and the web services in Exchange they target will work the same way regardless of whether the target is an Exchange Online, Exchange Online as part of Office 365, or Exchange on-premises server.</span></span> <span data-ttu-id="49d2e-106">但有一些例外情况，您需要确保您的应用程序可以处理它们。</span><span class="sxs-lookup"><span data-stu-id="49d2e-106">There are, however, some exceptions, and you'll want to make sure that your application can handle them.</span></span> <span data-ttu-id="49d2e-107">使用本文中的信息可帮助您设计客户端以同时面向 Exchange Online 和 Exchange 内部部署。</span><span class="sxs-lookup"><span data-stu-id="49d2e-107">Use the information in this article to help you design your client to target both Exchange Online and Exchange on-premises.</span></span>

<span data-ttu-id="49d2e-108"><a name="autodiscover"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-108"><a name="autodiscover"> </a></span></span>

## <a name="autodiscover-client-programming-considerations"></a><span data-ttu-id="49d2e-109">自动发现客户端编程注意事项</span><span class="sxs-lookup"><span data-stu-id="49d2e-109">Autodiscover client programming considerations</span></span>

<span data-ttu-id="49d2e-110">[自动发现](autodiscover-for-exchange.md)提供了 Exchange 客户端的配置信息。</span><span class="sxs-lookup"><span data-stu-id="49d2e-110">[Autodiscover](autodiscover-for-exchange.md) provides configuration information for Exchange clients.</span></span> <span data-ttu-id="49d2e-111">客户端应用程序可以通过三种方式之一发现其配置信息，具体取决于客户端是面向 Exchange Online 还是本地 Exchange。</span><span class="sxs-lookup"><span data-stu-id="49d2e-111">A client application can discover its configuration information in one of three ways, depending on whether the client is targeting Exchange Online or Exchange on-premises.</span></span> 
  
<span data-ttu-id="49d2e-112">**表1。自动发现服务类型和 Exchange 适用性**</span><span class="sxs-lookup"><span data-stu-id="49d2e-112">**Table 1. Autodiscover service types and Exchange applicability**</span></span>

|<span data-ttu-id="49d2e-113">**自动发现服务类型**</span><span class="sxs-lookup"><span data-stu-id="49d2e-113">**Autodiscover service type**</span></span>|<span data-ttu-id="49d2e-114">**适用于**</span><span class="sxs-lookup"><span data-stu-id="49d2e-114">**Applies to**</span></span>|
|:-----|:-----|
|[<span data-ttu-id="49d2e-115">SOAP 自动发现</span><span class="sxs-lookup"><span data-stu-id="49d2e-115">SOAP Autodiscover</span></span>](autodiscover-for-exchange.md#bk_Options) <br/> |<span data-ttu-id="49d2e-116">Exchange Online 和本地 Exchange 版本（从 Exchange 2010 开始）</span><span class="sxs-lookup"><span data-stu-id="49d2e-116">Exchange Online and versions of Exchange on-premises starting with Exchange 2010</span></span>  <br/> |
|[<span data-ttu-id="49d2e-117">POX 自动发现</span><span class="sxs-lookup"><span data-stu-id="49d2e-117">POX Autodiscover</span></span>](autodiscover-for-exchange.md#bk_Options) <br/> |<span data-ttu-id="49d2e-118">Exchange Online 和本地 Exchange 版本（从 Exchange 2007 开始）</span><span class="sxs-lookup"><span data-stu-id="49d2e-118">Exchange Online and versions of Exchange on-premises starting with Exchange 2007</span></span>  <br/> |
|[<span data-ttu-id="49d2e-119">服务连接点（SCP）查找</span><span class="sxs-lookup"><span data-stu-id="49d2e-119">Service connection point (SCP) lookup</span></span>](how-to-find-autodiscover-endpoints-by-using-scp-lookup-in-exchange.md) <br/> |<span data-ttu-id="49d2e-120">从 Exchange 2007 开始的 Exchange 内部版本</span><span class="sxs-lookup"><span data-stu-id="49d2e-120">Versions of Exchange on-premises starting with Exchange 2007</span></span>  <br/> |
   
<span data-ttu-id="49d2e-121">除了客户端配置信息之外，SOAP 和 POX 自动发现还返回 Exchange 服务版本，并指示该服务是否由 Exchange Online 托管。</span><span class="sxs-lookup"><span data-stu-id="49d2e-121">In addition to the client configuration information, that SOAP and POX Autodiscover also return the Exchange service version and indicate whether the service is hosted by Exchange Online.</span></span> <span data-ttu-id="49d2e-122">此信息在不同的元素中返回，具体取决于您使用的自动发现的类型。</span><span class="sxs-lookup"><span data-stu-id="49d2e-122">This information is returned in different elements, depending on the type of Autodiscover you use.</span></span>
  
<span data-ttu-id="49d2e-123">**表2。返回服务版本和 Exchange Online 托管信息的自动发现元素**</span><span class="sxs-lookup"><span data-stu-id="49d2e-123">**Table 2. Autodiscover elements that return service version and Exchange Online hosting information**</span></span>

|<span data-ttu-id="49d2e-124">**自动发现服务类型**</span><span class="sxs-lookup"><span data-stu-id="49d2e-124">**Autodiscover service type**</span></span>|<span data-ttu-id="49d2e-125">**包含服务版本的 XML 元素**</span><span class="sxs-lookup"><span data-stu-id="49d2e-125">**XML element that contains service version**</span></span>|<span data-ttu-id="49d2e-126">**指示用户是否具有 Exchange Online 帐户的 XML 元素**</span><span class="sxs-lookup"><span data-stu-id="49d2e-126">**XML element that indicates whether the user has an Exchange Online account**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="49d2e-127">SOAP 自动发现</span><span class="sxs-lookup"><span data-stu-id="49d2e-127">SOAP Autodiscover</span></span>  <br/> |<span data-ttu-id="49d2e-128">使用**CasVersion**文本值[设置（SOAP）](https://msdn.microsoft.com/library/43db26e1-f7be-49fd-b26b-fc1b10bd3458%28Office.15%29.aspx)元素。</span><span class="sxs-lookup"><span data-stu-id="49d2e-128">[Setting (SOAP)](https://msdn.microsoft.com/library/43db26e1-f7be-49fd-b26b-fc1b10bd3458%28Office.15%29.aspx) element with the **CasVersion** text value.</span></span>  <br/> |<span data-ttu-id="49d2e-129">使用**UserMSOnline**文本值[设置（SOAP）](https://msdn.microsoft.com/library/43db26e1-f7be-49fd-b26b-fc1b10bd3458%28Office.15%29.aspx)元素。</span><span class="sxs-lookup"><span data-stu-id="49d2e-129">[Setting (SOAP)](https://msdn.microsoft.com/library/43db26e1-f7be-49fd-b26b-fc1b10bd3458%28Office.15%29.aspx) element with the **UserMSOnline** text value.</span></span>  <br/> |
|<span data-ttu-id="49d2e-130">POX 自动发现</span><span class="sxs-lookup"><span data-stu-id="49d2e-130">POX Autodiscover</span></span>  <br/> |[<span data-ttu-id="49d2e-131">ServerVersion （POX）</span><span class="sxs-lookup"><span data-stu-id="49d2e-131">ServerVersion (POX)</span></span>](https://msdn.microsoft.com/library/2c0bc41c-2452-4fc8-a19c-0e85f9fdbc4a%28Office.15%29.aspx) <br/> |<span data-ttu-id="49d2e-132">**MicrosoftOnline**</span><span class="sxs-lookup"><span data-stu-id="49d2e-132">**MicrosoftOnline**</span></span> <br/> |
   
<span data-ttu-id="49d2e-133">确保您的客户端捕获此信息，以便它能够针对 Exchange 服务器上提供的[功能集](web-service-api-feature-availability-in-exchange-and-the-ews-managed-api.md)。</span><span class="sxs-lookup"><span data-stu-id="49d2e-133">Ensure that your client captures this information so that it can target the [feature set](web-service-api-feature-availability-in-exchange-and-the-ews-managed-api.md) that is available on the Exchange server.</span></span> <span data-ttu-id="49d2e-134">这可用于根据用户的邮箱位于 Exchange Online 组织还是 Exchange 内部部署组织，确定客户端是否可以预期不同的行为。</span><span class="sxs-lookup"><span data-stu-id="49d2e-134">This can be useful to determine whether your client can expect different behavior based on whether the user's mailbox is located in an Exchange Online or Exchange on-premises organization.</span></span> 

<span data-ttu-id="49d2e-135"><a name="testing"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-135"><a name="testing"> </a></span></span>

## <a name="testing-and-log-files-in-applications-that-target-exchange-online"></a><span data-ttu-id="49d2e-136">在面向 Exchange Online 的应用程序中测试和记录文件</span><span class="sxs-lookup"><span data-stu-id="49d2e-136">Testing and log files in applications that target Exchange Online</span></span>

<span data-ttu-id="49d2e-137">Exchange Online 不提供对在本地 Exchange 服务器上可用的 EWS 协议日志文件、EWS 性能计数器和 EWS 相关的服务事件的访问权限。</span><span class="sxs-lookup"><span data-stu-id="49d2e-137">Exchange Online does not provide access to the EWS protocol log files, EWS performance counters, and EWS-related service events that are available on on-premises Exchange servers.</span></span> <span data-ttu-id="49d2e-138">但是，在发现应用程序与 EWS 交互时，对这些权限的访问很有用。</span><span class="sxs-lookup"><span data-stu-id="49d2e-138">Access to these is useful, however, in discovering how your application performs when it interacts with EWS.</span></span> <span data-ttu-id="49d2e-139">请确保针对测试 Exchange 内部部署服务器测试应用程序，以便优化其性能。</span><span class="sxs-lookup"><span data-stu-id="49d2e-139">Make sure that you test your application against a test Exchange on-premise server so that you can optimize its performance.</span></span> <span data-ttu-id="49d2e-140">如果可能，可以将测试服务器上[的限制设置更改](https://technet.microsoft.com/library/bb232205%28v=exchg.150%29.aspx#Policies)为与 exchange online 的限制设置相匹配，以便您可以评估应用程序连接到 Exchange online 时的行为。</span><span class="sxs-lookup"><span data-stu-id="49d2e-140">If possible, you can [change the throttling settings](https://technet.microsoft.com/library/bb232205%28v=exchg.150%29.aspx#Policies) on your test server to match the throttling settings for Exchange Online, so you can evaluate how your application will behave when it connects to Exchange Online.</span></span> 
  
> [!TIP]
> <span data-ttu-id="49d2e-141">您可以使用[EWSRelentless](https://ewsrelentless.codeplex.com/)工具执行 EWS 负载测试。</span><span class="sxs-lookup"><span data-stu-id="49d2e-141">You can use the [EWSRelentless](https://ewsrelentless.codeplex.com/) tool to perform an EWS load test.</span></span> <span data-ttu-id="49d2e-142">您可以将此工具与测试服务器、EWS 协议日志、EWS 性能计数器、服务事件和 EWS 限制设置结合使用，以更好地理解 EWS 在负载下的执行情况。</span><span class="sxs-lookup"><span data-stu-id="49d2e-142">You can use this tool with a test server, the EWS protocol logs, EWS performance counters, service events, and the EWS throttling settings to better understand how EWS performs under load.</span></span> 

<span data-ttu-id="49d2e-143"><a name="throttling"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-143"><a name="throttling"> </a></span></span>

## <a name="throttling-settings-and-exchange-online"></a><span data-ttu-id="49d2e-144">限制设置和 Exchange Online</span><span class="sxs-lookup"><span data-stu-id="49d2e-144">Throttling settings and Exchange Online</span></span>

<span data-ttu-id="49d2e-145">Exchange Online 的[EWS 限制设置](ews-throttling-in-exchange.md)的默认值与 Exchange 本地 exchange 的默认值不同。</span><span class="sxs-lookup"><span data-stu-id="49d2e-145">The default values for the [EWS throttling settings](ews-throttling-in-exchange.md) are different for Exchange Online than they are for Exchange on-premises.</span></span> <span data-ttu-id="49d2e-146">此外，不能更改 Exchange Online 限制设置。</span><span class="sxs-lookup"><span data-stu-id="49d2e-146">Also, you cannot change Exchange Online throttling settings.</span></span> <span data-ttu-id="49d2e-147">您可以使用 Exchange 命令行管理程序 cmdlet 来发现本地 Exchange 的限制设置;但是，不会为 Exchange Online 启用这些 cmdlet。</span><span class="sxs-lookup"><span data-stu-id="49d2e-147">You can use Exchange Management Shell cmdlets to discover the throttling settings for Exchange on-premises; however, those cmdlets are not enabled for Exchange Online.</span></span> 

<span data-ttu-id="49d2e-148"><a name="ems"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-148"><a name="ems"> </a></span></span>

## <a name="exchange-management-shell-cmdlets-and-configuration-settings"></a><span data-ttu-id="49d2e-149">Exchange 命令行管理程序 cmdlet 和配置设置</span><span class="sxs-lookup"><span data-stu-id="49d2e-149">Exchange Management Shell cmdlets and configuration settings</span></span>

<span data-ttu-id="49d2e-150">许多 cmdlet 可以直接或间接地影响 Exchange Online 和 Exchange 内部部署中的 web 服务 Api。</span><span class="sxs-lookup"><span data-stu-id="49d2e-150">A number of cmdlets can directly or indirectly affect the web service APIs in Exchange Online and Exchange on-premises.</span></span> <span data-ttu-id="49d2e-151">Cmdlet 在 Exchange Online 中不可用于以下内容：</span><span class="sxs-lookup"><span data-stu-id="49d2e-151">Cmdlets are not available for the following in Exchange Online:</span></span>
  
- <span data-ttu-id="49d2e-152">限制设置</span><span class="sxs-lookup"><span data-stu-id="49d2e-152">Throttling settings</span></span> 
    
- <span data-ttu-id="49d2e-153">虚拟目录设置</span><span class="sxs-lookup"><span data-stu-id="49d2e-153">Virtual directory settings</span></span> 
    
- <span data-ttu-id="49d2e-154">身份验证设置</span><span class="sxs-lookup"><span data-stu-id="49d2e-154">Authentication settings</span></span>
    
<span data-ttu-id="49d2e-155">有关可用于 Exchange Online 的 cmdlet 的详细信息，请参阅[Exchange online 中的 PowerShell cmdlet](http://help.outlook.com/140/dd575549.aspx)。</span><span class="sxs-lookup"><span data-stu-id="49d2e-155">For details about the cmdlets that are available for Exchange Online, see [PowerShell cmdlets in Exchange Online](http://help.outlook.com/140/dd575549.aspx).</span></span> <span data-ttu-id="49d2e-156">有关可用于 Exchange 本地的 cmdlet 的详细信息，请参阅[exchange 2013 cmdlet](https://technet.microsoft.com/library/bb124413%28v=exchg.150%29.aspx)。</span><span class="sxs-lookup"><span data-stu-id="49d2e-156">For more about cmdlets that are available for Exchange on-premises, see [Exchange 2013 cmdlets](https://technet.microsoft.com/library/bb124413%28v=exchg.150%29.aspx).</span></span>
  
## <a name="client-affinity-and-network-load-balancers"></a><span data-ttu-id="49d2e-157">客户端相关性和网络负载平衡器</span><span class="sxs-lookup"><span data-stu-id="49d2e-157">Client affinity and network load balancers</span></span>
<span data-ttu-id="49d2e-158"><a name="affinity"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-158"><a name="affinity"> </a></span></span>

<span data-ttu-id="49d2e-159">大多数 EWS 通信不要求客户端参与与 Exchange 的保持关系。</span><span class="sxs-lookup"><span data-stu-id="49d2e-159">Most EWS communication does not require that the client participate in maintaining affinity with Exchange.</span></span> <span data-ttu-id="49d2e-160">对邮箱事件的订阅需要客户端提供 cookie 和其他信息来维护与维护用户的邮箱事件队列的 Exchange 服务器的相关性。</span><span class="sxs-lookup"><span data-stu-id="49d2e-160">The subscriptions to mailbox events do require that the client provide cookies and other information to maintain affinity with the Exchange server that maintains the queue of mailbox events for a user.</span></span> <span data-ttu-id="49d2e-161">Exchange Server 2010 使用 exchangecookie 维护跨网络负载平衡器的客户端相关性。</span><span class="sxs-lookup"><span data-stu-id="49d2e-161">Exchange Server 2010 uses the exchangecookie to maintain client affinity across the network load balancers.</span></span> <span data-ttu-id="49d2e-162">Exchange Online 和本地 Exchange 版本（从 Exchange 2013 开始）使用[x-anchormailbox 头、x-PreferServerAffinity 头和 x-BackEndOverrideCookie cookie](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_howmaintained)来维护邮箱通知的相关性。</span><span class="sxs-lookup"><span data-stu-id="49d2e-162">Exchange Online and versions of Exchange on-premises starting with Exchange 2013 use the [X-AnchorMailbox header, X-PreferServerAffinity header, and X-BackEndOverrideCookie cookie](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_howmaintained) to maintain affinity for mailbox notifications.</span></span> 
  
## <a name="authentication"></a><span data-ttu-id="49d2e-163">身份验证</span><span class="sxs-lookup"><span data-stu-id="49d2e-163">Authentication</span></span>
<span data-ttu-id="49d2e-164"><a name="auth"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-164"><a name="auth"> </a></span></span>

<span data-ttu-id="49d2e-165">客户端可以使用基本或 OAuth 通过 Exchange Online 进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="49d2e-165">Clients can authenticate with Exchange Online by using either Basic or OAuth.</span></span> <span data-ttu-id="49d2e-166">从 Exchange 2013 开始的 Exchange 内部版本在默认情况下使用 NTLM。但是，也可以将本地 Exchange 配置为使用基本身份验证。</span><span class="sxs-lookup"><span data-stu-id="49d2e-166">Versions of Exchange on-premises starting with Exchange 2013 use NTLM by default; however, it's possible to configure Exchange on-premises to use Basic authentication as well.</span></span> 
  
## <a name="client-latency-diagnostics"></a><span data-ttu-id="49d2e-167">客户端延迟诊断</span><span class="sxs-lookup"><span data-stu-id="49d2e-167">Client latency diagnostics</span></span>
<span data-ttu-id="49d2e-168"><a name="diag"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-168"><a name="diag"> </a></span></span>

<span data-ttu-id="49d2e-169">Exchange Online 收集客户端延迟诊断（如果报告）。</span><span class="sxs-lookup"><span data-stu-id="49d2e-169">Exchange Online collects client latency diagnostics if they are reported.</span></span> <span data-ttu-id="49d2e-170">这有助于 Microsoft 支持解决 Exchange Online 的连接问题。</span><span class="sxs-lookup"><span data-stu-id="49d2e-170">This helps Microsoft support troubleshoot connectivity issues with Exchange Online.</span></span> <span data-ttu-id="49d2e-171">Exchange 本地不会收集客户端延迟诊断。</span><span class="sxs-lookup"><span data-stu-id="49d2e-171">Exchange on-premises does not collect client latency diagnostics.</span></span> <span data-ttu-id="49d2e-172">如果您的客户端以本地 Exchange 为目标，客户端将无法向服务器报告延迟诊断。</span><span class="sxs-lookup"><span data-stu-id="49d2e-172">If your client targets Exchange on-premises, the client can't report latency diagnostics to the server.</span></span>
  
## <a name="functionality-in-the-ews-managed-api"></a><span data-ttu-id="49d2e-173">EWS 托管 API 中的功能</span><span class="sxs-lookup"><span data-stu-id="49d2e-173">Functionality in the EWS Managed API</span></span>
<span data-ttu-id="49d2e-174"><a name="ewsma"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-174"><a name="ewsma"> </a></span></span>

<span data-ttu-id="49d2e-175">EWS 托管 API 公开一些特定于 Exchange 本地的功能，如服务点连接查找，以及特定于 Exchange Online 的一些功能，如客户端延迟报告。</span><span class="sxs-lookup"><span data-stu-id="49d2e-175">The EWS Managed API exposes some functionality that is specific to Exchange on-premises, such as service point connection lookup, and some functionality that is specific to Exchange Online, such as client latency reporting.</span></span> <span data-ttu-id="49d2e-176">请注意，在在 EWS 托管 API 中实现某些功能之前，可能会在 Exchange Online 中实现这些功能。</span><span class="sxs-lookup"><span data-stu-id="49d2e-176">Note that it's possible for some functionality to be implemented in Exchange Online before it is implemented in the EWS Managed API.</span></span> 
  
<span data-ttu-id="49d2e-177">下面的 EWS 托管 API 功能仅适用于 Exchange Online：</span><span class="sxs-lookup"><span data-stu-id="49d2e-177">The following EWS Managed API functionality is only applicable to Exchange Online:</span></span>
  
- <span data-ttu-id="49d2e-178">客户端延迟报告</span><span class="sxs-lookup"><span data-stu-id="49d2e-178">Client latency reporting</span></span>
    
- <span data-ttu-id="49d2e-179">基本预身份验证</span><span class="sxs-lookup"><span data-stu-id="49d2e-179">Basic pre-authentication</span></span>
    
- <span data-ttu-id="49d2e-180">能够请求在响应中返回 RequestId</span><span class="sxs-lookup"><span data-stu-id="49d2e-180">The ability to request that the RequestId be returned in responses</span></span>
    
## <a name="api-features-in-exchange-online-plans-and-exchange-server-editions"></a><span data-ttu-id="49d2e-181">Exchange Online 计划和 Exchange Server 版本中的 API 功能</span><span class="sxs-lookup"><span data-stu-id="49d2e-181">API features in Exchange Online plans and Exchange Server editions</span></span>
<span data-ttu-id="49d2e-182"><a name="exo"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-182"><a name="exo"> </a></span></span>

<span data-ttu-id="49d2e-183">不同的功能集可能在不同的 Office 365 和 Exchange Online 计划中，或者在 Exchange Server 的标准版和企业版中可用。</span><span class="sxs-lookup"><span data-stu-id="49d2e-183">Different feature sets might be available in different Office 365 and Exchange Online plans, or in the standard and enterprise versions of Exchange Server.</span></span> <span data-ttu-id="49d2e-184">请注意，您的客户端应用程序可能无法使用某些 API 功能，具体取决于承载用户邮箱的 Exchange Online 计划或 Exchange Server 版本。</span><span class="sxs-lookup"><span data-stu-id="49d2e-184">Be aware that some API functionality might not be available to your client application depending on the Exchange Online plan or Exchange Server edition that hosts a user's mailbox.</span></span> 
  
<span data-ttu-id="49d2e-185">**表3。跨计划和版本的 API 功能差异**</span><span class="sxs-lookup"><span data-stu-id="49d2e-185">**Table 3. API feature variations across plans and editions**</span></span>

|<span data-ttu-id="49d2e-186">**API 功能**</span><span class="sxs-lookup"><span data-stu-id="49d2e-186">**API feature**</span></span>|<span data-ttu-id="49d2e-187">**计划或版本注意事项**</span><span class="sxs-lookup"><span data-stu-id="49d2e-187">**Plan or edition considerations**</span></span>|
|:-----|:-----|

<span data-ttu-id="49d2e-188">|对帐户的 EWS 访问（通过 Exchange 模拟除外）</span><span class="sxs-lookup"><span data-stu-id="49d2e-188">|EWS access to accounts, except via Exchange impersonation</span></span>  <br/> <span data-ttu-id="49d2e-189">|在[Office 365 for business 中不允许-Kiosk 计划](https://office.microsoft.com/business/compare-office-365-kiosk-plans-FX103178917.aspx)。</span><span class="sxs-lookup"><span data-stu-id="49d2e-189">|Not allowed in the [Office 365 for business—Kiosk plans](https://office.microsoft.com/business/compare-office-365-kiosk-plans-FX103178917.aspx).</span></span>  <br/> |


<span data-ttu-id="49d2e-190">|统一消息（UM）</span><span class="sxs-lookup"><span data-stu-id="49d2e-190">|Unified Messaging (UM)</span></span>  <br/> <span data-ttu-id="49d2e-191">|仅适用于 Office 365 企业版（E3）计划、Exchange Online 计划2和 Exchange Server 2013 企业版。</span><span class="sxs-lookup"><span data-stu-id="49d2e-191">|Only available with Office 365 Enterprise (E3) plan, Exchange Online Plan 2, and the Exchange Server 2013 Enterprise editions.</span></span>  <br/> <span data-ttu-id="49d2e-192">| |Active Directory 域服务（AD DS）集成</span><span class="sxs-lookup"><span data-stu-id="49d2e-192">| |Active Directory Domain Services (AD DS) integration</span></span>  <br/> <span data-ttu-id="49d2e-193">|不适用于 Office 365 小型企业版和 Office 365 小型企业高级版计划。</span><span class="sxs-lookup"><span data-stu-id="49d2e-193">|Not available with the Office 365 Small Business and Office 365 Small Business Premium plan.</span></span>  <br/> <span data-ttu-id="49d2e-194">| |信息权限管理、存档和法律保留</span><span class="sxs-lookup"><span data-stu-id="49d2e-194">| |Information Rights Management, archiving, and legal holds</span></span>  <br/> <span data-ttu-id="49d2e-195">|仅适用于 Office 365 企业版（E3 和 E4）计划。</span><span class="sxs-lookup"><span data-stu-id="49d2e-195">|Only available with the Office 365 Enterprise (E3 and E4) plans.</span></span>  <br/> <span data-ttu-id="49d2e-196">| |数据丢失保护</span><span class="sxs-lookup"><span data-stu-id="49d2e-196">| |Data Loss Protection</span></span>  <br/> <span data-ttu-id="49d2e-197">|仅适用于 Office 365 企业版计划、Exchange Online 计划2和 Exchange Server 2013 企业版。</span><span class="sxs-lookup"><span data-stu-id="49d2e-197">|Only available with the Office 365 Enterprise plans, Exchange Online Plan 2, and Exchange Server 2013 Enterprise editions.</span></span>  <br/> |
   
<span data-ttu-id="49d2e-198">由于功能可用性可能会发生更改，因此建议您查看 Exchange Online 计划和 Exchange Server 版本，以评估功能可用性对客户端有何影响。</span><span class="sxs-lookup"><span data-stu-id="49d2e-198">Because feature availability can change, we recommend that you check the Exchange Online plans and Exchange Server editions to evaluate how feature availability might affect your client.</span></span> <span data-ttu-id="49d2e-199">您还可以通过使用[GetServiceConfiguration 操作](how-to-get-service-configuration-information-by-using-ews-in-exchange.md)或通过发送实现功能的操作的测试请求，来设计客户端，以检查功能可用性。</span><span class="sxs-lookup"><span data-stu-id="49d2e-199">You can also design your client to check feature availability by using the [GetServiceConfiguration operation](how-to-get-service-configuration-information-by-using-ews-in-exchange.md) or by sending test requests for the operations that implement the features.</span></span> <span data-ttu-id="49d2e-200">如果功能不可用，则来自服务器的响应将指示这样。</span><span class="sxs-lookup"><span data-stu-id="49d2e-200">If the feature isn't available, the response from the server will indicate as such.</span></span> 
  
## <a name="other-considerations"></a><span data-ttu-id="49d2e-201">其他注意事项</span><span class="sxs-lookup"><span data-stu-id="49d2e-201">Other considerations</span></span>
<span data-ttu-id="49d2e-202"><a name="other"> </a></span><span class="sxs-lookup"><span data-stu-id="49d2e-202"><a name="other"> </a></span></span>

<span data-ttu-id="49d2e-203">在面向 Exchange 本地（而非 Exchange Online）时，您可以执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="49d2e-203">You can do the following when targeting Exchange on-premises but not Exchange Online:</span></span>
  
- <span data-ttu-id="49d2e-204">创建一个安装在 Exchange 服务器上的客户端。</span><span class="sxs-lookup"><span data-stu-id="49d2e-204">Create a client that is installed on the Exchange server.</span></span> 
    
- <span data-ttu-id="49d2e-205">安装可影响您使用 EWS 和其他客户端创建和发送的邮件的传递和内容的[自定义传输代理](../transport-agents/transport-agents-in-exchange-2013.md)。</span><span class="sxs-lookup"><span data-stu-id="49d2e-205">Install [custom transport agents](../transport-agents/transport-agents-in-exchange-2013.md) that can affect the delivery and content of messages you create and send with EWS and other clients.</span></span> 
    
## <a name="see-also"></a><span data-ttu-id="49d2e-206">另请参阅</span><span class="sxs-lookup"><span data-stu-id="49d2e-206">See also</span></span>

- [<span data-ttu-id="49d2e-207">Exchange 的 EWS 客户端设计概述</span><span class="sxs-lookup"><span data-stu-id="49d2e-207">EWS client design overview for Exchange</span></span>](ews-client-design-overview-for-exchange.md)
- [<span data-ttu-id="49d2e-208">比较 Exchange Online 和 Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="49d2e-208">Comparing Exchange Online and Exchange Server 2013</span></span>](https://blogs.technet.com/b/exchange/archive/2012/09/19/comparing-exchange-online-and-exchange-server-2013.aspx)  
- [<span data-ttu-id="49d2e-209">比较所有 Office 365 for business 计划</span><span class="sxs-lookup"><span data-stu-id="49d2e-209">Compare all Office 365 for business plans</span></span>](https://office.microsoft.com/business/compare-all-office-365-for-business-plans-FX104051403.aspx)
- [<span data-ttu-id="49d2e-210">EwsRelentless-EWS 加载生成工具</span><span class="sxs-lookup"><span data-stu-id="49d2e-210">EwsRelentless - EWS load generation tool</span></span>](https://ewsrelentless.codeplex.com/)
- [<span data-ttu-id="49d2e-211">Exchange 和 EWS 托管 API 中的 Web 服务 API 功能可用性</span><span class="sxs-lookup"><span data-stu-id="49d2e-211">Web service API feature availability in Exchange and the EWS Managed API</span></span>](web-service-api-feature-availability-in-exchange-and-the-ews-managed-api.md)
- [<span data-ttu-id="49d2e-212">Exchange 中的 EWS 限制</span><span class="sxs-lookup"><span data-stu-id="49d2e-212">EWS throttling in Exchange</span></span>](ews-throttling-in-exchange.md)
    

